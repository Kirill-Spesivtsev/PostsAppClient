<div class="d-flex align-items-center justify-content-center form-background">
  <div class="container mt-4 bg-white px-5 py-5 rounded rounded-5 ms-4 me-2 border-3 center-form shadow-lg">
    <h1 class="text-center mb-5">Add new post</h1>
    <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
      <div class="row g-5">
        <div class="col-md-6">

          <div class="form-floating mb-3 input-container-height">
            <input type="text" class="form-control" id="form-title" formControlName="title" placeholder="title"
              [class.is-invalid]="postForm.get('title')?.invalid && postForm.get('title')?.touched">
            <label for="form-title" class="mb-2 fs-6" >Title</label>
            <div *ngIf="postForm.get('title')?.invalid && postForm.get('title')?.touched" class="invalid-feedback">
              Title should be at least 3 characters.
            </div>
          </div>

          <div class="form-floating mb-3 input-container-height">
            <textarea id="content" class="form-control textarea-height" formControlName="content" placeholder="content"
              [class.is-invalid]="postForm.get('content')?.invalid && postForm.get('content')?.touched">
            </textarea>
            <label for="content" class="form-label">Content</label>
            <div *ngIf="postForm.get('content')?.invalid && postForm.get('content')?.touched" class="invalid-feedback">
              Content is required and must be at least 10 characters.
            </div>
          </div>
        </div>
        
        <div class="col-md-6"> 
           
          <div class="form-floating mb-3 input-container-height">
            <input type="text" id="creator" class="form-control" formControlName="creator" placeholder="creator"/>
            <label for="creator" class="form-label">Author</label>
          </div>

          <div class="form-floating mb-3 input-container-height">
            <input type="text" id="article_link" class="form-control" formControlName="article_link" placeholder="link"
              [class.is-invalid]="postForm.get('article_link')?.invalid && postForm.get('article_link')?.touched" />
            <label for="article_link" class="mb-2 fs-6">Origin Link</label>
            <div *ngIf="postForm.get('article_link')?.invalid && postForm.get('article_link')?.touched" class="invalid-feedback">
              Article Link should be a valid URL or left empty.
            </div>
          </div>

          <div class="form-floating mb-3 input-container-height">
            <input type="text" id="media_url" class="form-control" formControlName="media_url" placeholder="media_url"
              [class.is-invalid]="postForm.get('media_url')?.invalid && postForm.get('media_url')?.touched"/>
            <label for="media_url" class="form-label">Media URL</label>
            <div *ngIf="postForm.get('media_url')?.invalid && postForm.get('media_url')?.touched" class="invalid-feedback">
              Must be a valid URL or left empty.
            </div>
          </div>

        </div>
      </div>
  
      <div class="d-flex justify-content-between align-items-center">
        <div class="mt-3 text-end">
          <button type="submit" class="btn btn-lg btn-info" routerLink="/posts">Back</button>
        </div>
        <div class="mt-3 text-end">
          <button type="submit" class="btn btn-lg btn-primary" [disabled]="postForm.invalid">Submit</button>
        </div>
      </div>
    </form>
  </div>
</div>

